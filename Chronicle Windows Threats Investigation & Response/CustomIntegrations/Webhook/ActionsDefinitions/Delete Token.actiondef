{"Name":"Delete Token","Description":"Delete Webhook token by token ID.","Script":"from WebhookManager import WebhookManager\nfrom SiemplifyAction import SiemplifyAction\nfrom SiemplifyUtils import unix_now, convert_unixtime_to_datetime, output_handler\nfrom ScriptResult import EXECUTION_STATE_COMPLETED, EXECUTION_STATE_FAILED,EXECUTION_STATE_TIMEDOUT\n\n# Consts:\nINTEGRATION_NAME = \"Webhook\"\nSCRIPT_NAME = \"Delete Token\"\n\n@output_handler\ndef main():\n    siemplify = SiemplifyAction()\n    siemplify.script_name = SCRIPT_NAME\n    siemplify.LOGGER.info(\"================= Main - Param Init =================\")\n    \n    # Extract Integration params:\n    conf = siemplify.get_configuration(INTEGRATION_NAME)\n    baseUrl = conf.get(\"URL\")\n    \n    # INIT ACTION PARAMETERS:\n    token_id = siemplify.extract_action_param(param_name=\"Token ID\").strip()\n    \n    # Init result values\n    status = EXECUTION_STATE_FAILED\n    output_message = f'Something went wrong deleting token <{token_id}>.'\n    result_value = False\n    \n    # Create manager instance for methods:\n    webhookManager = WebhookManager(baseUrl)\n    \n    try:\n        # Delete token:\n        result_status = webhookManager.delete_token(token_id)\n        status = EXECUTION_STATE_COMPLETED\n        output_message = f'Token <{token_id}> was successfully deleted.'\n        output_message += f' Deletion status: {result_status}'\n        result_value = True\n        \n    except Exception as e:\n        siemplify.LOGGER.error(e)\n        output_message += \" Error: \" + str(e)\n        \n    finally:\n        siemplify.LOGGER.info(\"\\n  status: {}\\n  result_value: {}\\n  output_message: {}\".format(status,result_value, output_message))\n        siemplify.end(output_message, result_value, status)\n\n\nif __name__ == \"__main__\":\n    main()\n","IntegrationIdentifier":"Webhook","ScriptResultName":"ScriptResult","DynamicResultsMetadata":[{"ResultName":"JsonResult","ResultExample":"{}","ShowResult":true}],"Creator":"shakedalontest","IsEnabled":true,"IsCustom":true,"IsSystem":false,"Version":39.0,"TimeoutSeconds":300,"IsAsync":null,"AsyncPollingIntervalInSeconds":3600,"TotalIntervalTimeoutForAsyncInSeconds":86400,"Parameters":[{"CustomActionId":0,"IsMandatory":true,"DefaultValue":"111","Description":"ID of the token to be deleted.","Name":"Token ID","Value":"111","Type":0,"OptionalValues":null,"OptionalValuesJson":null}],"DefaultResultValue":"","PythonVersion":"None","SimulationData":{"Entities":null},"SimulationDataJson":null}